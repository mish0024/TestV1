<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Valentine Movie Trailer</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body {
  margin:0;
  background: radial-gradient(circle,#ffd6e7,#ffeef6);
  overflow:hidden;
  font-family: 'Brush Script MT', cursive;
  height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  perspective:1000px;
}

/* envelope intro */
.intro {
  text-align:center;
  animation:fadeIn 2s ease forwards;
}
.envelope {
  font-size:80px;
  cursor:pointer;
  animation:bounce 1.5s infinite;
}

@keyframes bounce {
  50% { transform:translateY(-10px); }
}

@keyframes fadeIn {
  from {opacity:0;}
  to {opacity:1;}
}

/* card */
.card {
  display:none;
  background:rgba(255,255,255,0.95);
  padding:40px;
  border-radius:25px;
  text-align:center;
  box-shadow:0 15px 60px rgba(0,0,0,.25);
  width:90%;
  max-width:550px;
  transform:scale(0.8);
  animation:cardPop 0.8s forwards;
}

@keyframes cardPop {
  to { transform:scale(1); }
}

.card h1 {
  font-size:32px;
  letter-spacing:2px;
  margin-bottom:15px;
}

.zone { position:relative; height:150px; margin-top:30px; }

button {
  padding:16px 28px;
  font-size:20px;
  border-radius:999px;
  border:none;
  cursor:pointer;
  font-weight:bold;
  position:absolute;
  transition: all 0.3s ease;
}

#yesBtn { background:#ff3b7a; color:white; left:25%; }
#noBtn { background:#ddd; left:60%; }

/* royal ending */
.royal {
  display:none;
  text-align:center;
  animation:zoom 3s ease forwards;
  font-family:"Brush Script MT",cursive;
  color:#c4005a;
}

@keyframes zoom {
  from{opacity:0; transform:scale(0.8);}
  to{opacity:1; transform:scale(1);}
}

.scroll {
  background:linear-gradient(#fff8e7,#ffe9c9);
  padding:50px;
  border-radius:25px;
  box-shadow:0 0 80px gold;
  font-size:32px;
  color:#6b2d00;
  position:relative;
  transform:rotateX(90deg);
  animation:scrollDrop 1s forwards;
}

@keyframes scrollDrop {
  to { transform:rotateX(0deg); }
}

.crown {
  font-size:70px;
  position:absolute;
  top:-250px;
  left:50%;
  transform:translateX(-50%);
  animation:crownDrop 2s forwards;
}

@keyframes crownDrop {
  to { top:-20px; }
}

.highlight {
  color:#c4005a;
  font-size:40px;
  text-shadow:0 0 20px #ff66a3;
  animation:heartBeat 1.2s infinite;
}

@keyframes heartBeat {
  0%,100% { transform: scale(1); }
  50% { transform: scale(1.2); }
}

/* handwriting effect */
#loveLetter {
  font-size:28px;
  margin-top:20px;
  white-space:pre-wrap;
  min-height:120px;
}

/* roses falling */
.rose {
  position:fixed;
  top:-20px;
  font-size:28px;
  animation:fall 12s linear forwards;
}

@keyframes fall {
  to { transform:translateY(110vh) rotate(360deg); opacity:0; }
}

/* glitter */
.glitter {
  position:fixed;
  pointer-events:none;
  font-size:16px;
  animation:fade 1s forwards;
}

@keyframes fade {
  to { opacity:0; transform:scale(2); }
}
  @media screen and (max-width:400px){
  .card { padding:25px; font-size:16px; }
  .card h1 { font-size:24px; }
  .zone button { padding:12px 20px; font-size:16px; }
  .scroll { padding:30px; font-size:24px; }
  #loveLetter { font-size:20px; }
}

</style>
</head>

<body>
<audio id="music" loop>
  <source src="https://cdn.pixabay.com/audio/2022/03/15/audio_115b9b4db1.mp3">
</audio>

<div class="intro" id="intro">
  <h2 style="font-size:28px; margin-bottom:20px;">A special message from your HUSBAND üíå</h2>
  <div class="envelope" onclick="openIntro()">‚úâÔ∏è</div>
</div>

<div class="card" id="game">
  <h1>Will you be my Valentine? üòçüíû</h1>
  <p style="font-size:18px; margin-bottom:20px;">You can't say no üòà</p>

  <div class="zone" id="zone">
    <button id="yesBtn">Yes</button>
    <button id="noBtn">No</button>
  </div>
</div>

<div class="royal" id="royal">
  <div class="scroll">
    <div class="crown">üëë</div>
    <div id="loveLetter"></div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
<script>
const yes=document.getElementById("yesBtn");
const no=document.getElementById("noBtn");
const zone=document.getElementById("zone");
const game=document.getElementById("game");
const royal=document.getElementById("royal");
const intro=document.getElementById("intro");
const music=document.getElementById("music");
const loveLetter=document.getElementById("loveLetter");

let scale=1;

// Love letter content
const message = `Hear ye, hear ye‚Ä¶
The royal heart chooses only one.
My Baby S ‚ù§Ô∏è
is forever my Valentine.`;

function typeLetter(text, element, speed=60){
  let i=0;
  function typing(){
    if(i<text.length){
      element.textContent += text.charAt(i);
      i++;
      setTimeout(typing, speed);
    }
  }
  typing();
}

function openIntro(){
 intro.style.display="none";
 game.style.display="block";
 music.play();
}

// No button moves away
zone.addEventListener("pointermove", e => {
 const r = no.getBoundingClientRect();
 const d = Math.hypot(r.x - e.clientX, r.y - e.clientY);
 if(d < 120){
  no.style.left = Math.random() * 80 + "%";
  no.style.top = Math.random() * 80 + "%";
  scale += 0.03; // slower growth
  yes.style.transform = `scale(${scale})`;
 }
});


// Yes button triggers royal scroll + handwriting
yes.onclick=()=>{
 game.style.display="none";
 royal.style.display="block";
 roses();
 fireworks();
 typeLetter(message, loveLetter, 60);
};

// Falling roses
function roses(){
 setInterval(()=>{
  const r=document.createElement("div");
  r.className="rose";
  r.innerHTML="üåπ";
  r.style.left=Math.random()*100+"vw";
  document.body.appendChild(r);
  setTimeout(()=>r.remove(),12000);
 },600);
}

// Fireworks confetti
function fireworks(){
 confetti({particleCount:300,spread:160,origin:{y:0.6}});
}

// Glitter trail
document.addEventListener("mousemove",e=>{
 const g=document.createElement("div");
 g.className="glitter";
 g.innerHTML="‚ú®";
 g.style.left=e.clientX+"px";
 g.style.top=e.clientY+"px";
 document.body.appendChild(g);
 setTimeout(()=>g.remove(),1000);
});
</script>
</body>
</html>
